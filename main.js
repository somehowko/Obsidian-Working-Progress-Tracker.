/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => FocusTimerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  goal: 1e3,
  showTimer: false,
  focusedTime: 0,
  lastResetDate: "",
  showMainTimer: true,
  showCurrentTime: true,
  workingHourGoal: 8
};
var LOG_FILE_PATH = "working record.md";
var DATE_FORMAT = "YYYY-MM-DD";
var TIME_FORMAT = "HH:mm:ss";
var FocusTimerPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    // --- Event Handlers ---
    this.handleWindowFocus = () => {
      this.isWindowFocused = true;
      console.log("Window focused");
      if (this.activeLeaf && this.activeLeaf.view instanceof import_obsidian.MarkdownView) {
        this.startFocusTimer();
      }
    };
    this.handleWindowBlur = () => {
      this.isWindowFocused = false;
      console.log("Window blurred");
      this.stopFocusTimer();
    };
    this.handleLeafChange = async (leaf) => {
      if (this.activeLeaf && this.activeLeaf.view instanceof import_obsidian.MarkdownView) {
        this.stopFocusTimer();
      }
      if (leaf && leaf.view instanceof import_obsidian.MarkdownView) {
        if (this.isWindowFocused) {
          this.startFocusTimer();
        }
      }
      this.activeLeaf = leaf;
      if (leaf && this.isPopOutWindow(leaf)) {
        this.addStatusBar(leaf);
      }
    };
    this.handleEditorChange = async (editor, view) => {
      if (this.isWindowFocused && this.isPopOutWindow(view.leaf)) {
        this.startFocusTimer();
      }
      await this.updateDailyLog();
    };
  }
  async onload() {
    console.log("Loading Focus Timer Plugin");
    await this.loadSettings();
    this.statusBarItem = this.addStatusBarItem();
    this.updateStatusBar();
    this.debouncePopOutUpdate = (0, import_obsidian.debounce)(this.updatePopOutStatusBar, 250, true);
    this.registerInterval(
      window.setInterval(() => {
        if (this.isWindowFocused && this.lastFocusTime) {
          this.updateFocusedTime();
          this.updateStatusBar();
          this.saveSettings();
        }
      }, 1e3)
    );
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", this.handleLeafChange.bind(this))
    );
    this.registerEvent(
      this.app.workspace.on("editor-change", this.debounceUpdate.bind(this))
    );
    this.app.workspace.onLayoutReady(() => {
      var _a;
      this.activeLeaf = (_a = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView)) == null ? void 0 : _a.leaf;
      if (this.activeLeaf) {
        this.startFocusTimer();
      }
      this.handleLeafChange(this.activeLeaf);
    });
    window.addEventListener("focus", this.handleWindowFocus);
    window.addEventListener("blur", this.handleWindowBlur);
    this.addSettingTab(new FocusTimerSettingsTab(this.app, this));
  }
  async onunload() {
    await this.updateDailyLog();
    await this.saveSettings();
    window.removeEventListener("focus", this.handleWindowFocus);
    window.removeEventListener("blur", this.handleWindowBlur);
  }
  // --- Timer Functions ---
  startFocusTimer() {
    if (!this.lastFocusTime) {
      this.lastFocusTime = Date.now();
      console.log("Focus timer STARTED");
    }
  }
  stopFocusTimer() {
    if (this.lastFocusTime) {
      this.updateFocusedTime();
      this.lastFocusTime = null;
      console.log("Focus timer STOPPED. Total:", this.settings.focusedTime);
      this.saveSettings();
    }
  }
  updateFocusedTime() {
    if (this.lastFocusTime) {
      const elapsed = Date.now() - this.lastFocusTime;
      this.settings.focusedTime += elapsed;
      this.lastFocusTime = Date.now();
    }
  }
  // --- Status Bar Updates ---
  updateStatusBar() {
    let statusBarText = "";
    if (this.settings.showMainTimer) {
      const formattedTime = this.formatTime(this.settings.focusedTime);
      statusBarText += `Focused: ${formattedTime} `;
    }
    const workingHourGoalProgress = (this.settings.focusedTime / (this.settings.workingHourGoal * 60 * 60 * 1e3) * 100).toFixed(2);
    statusBarText += `| WH Goal: ${workingHourGoalProgress}% `;
    const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (activeView) {
      const charNum = activeView.editor.getValue().length;
      const charGoalProgress = this.settings.goal > 0 ? (charNum / this.settings.goal * 100).toFixed(2) : "0.00";
      statusBarText += `| Char Goal: ${charGoalProgress}%`;
    } else {
      statusBarText += `| Char Goal: N/A`;
    }
    if (this.settings.showCurrentTime) {
      const currentTime = (0, import_obsidian.moment)().format(TIME_FORMAT);
      statusBarText += ` | ${currentTime}`;
    }
    this.statusBarItem.setText(statusBarText.trim());
  }
  updatePopOutStatusBar(leaf) {
    const editor = leaf.view.editor;
    if (!editor) {
      return;
    }
    const content = editor.getValue();
    const words = content.split(/\s+/).filter((word) => word.length > 0).length;
    const lineNum = editor.getCursor().line + 1;
    const chNum = content.length;
    const charGoalProgress = this.settings.goal > 0 ? (chNum / this.settings.goal * 100).toFixed(2) : "0.00";
    const workingHourGoalProgress = (this.settings.focusedTime / (this.settings.workingHourGoal * 60 * 60 * 1e3) * 100).toFixed(2);
    const formattedTime = this.formatTime(this.settings.focusedTime);
    if (leaf.popOutStatusBar) {
      leaf.popOutStatusBar.wordCountItem.textContent = `${words} words`;
      leaf.popOutStatusBar.lineCountItem.textContent = `Ln ${lineNum}, Col ${chNum}`;
      leaf.popOutStatusBar.charCountItem.textContent = `${chNum} chars`;
      leaf.popOutStatusBar.goalProgressItem.textContent = `Char Goal: ${charGoalProgress}%`;
      leaf.popOutStatusBar.workingHourGoalProgressItem.textContent = `WH Goal: ${workingHourGoalProgress}%`;
      if (this.settings.showTimer) {
        leaf.popOutStatusBar.timerItem.textContent = `Focused: ${formattedTime}`;
      } else {
        leaf.popOutStatusBar.timerItem.textContent = "";
      }
    }
  }
  // --- Helper Functions ---
  formatTime(milliseconds) {
    const totalSeconds = Math.floor(milliseconds / 1e3);
    const hours = Math.floor(totalSeconds / 3600);
    const minutes = Math.floor(totalSeconds % 3600 / 60);
    const seconds = totalSeconds % 60;
    return `${String(hours).padStart(2, "0")}:${String(minutes).padStart(2, "0")}:${String(
      seconds
    ).padStart(2, "0")}`;
  }
  isPopOutWindow(leaf) {
    var _a;
    if (!leaf || !((_a = leaf.view) == null ? void 0 : _a.getViewType())) {
      return false;
    }
    return leaf.view.containerEl.ownerDocument !== document;
  }
  // --- Daily Logging ---
  async updateDailyLog() {
    const today = (0, import_obsidian.moment)().format(DATE_FORMAT);
    if (this.settings.lastResetDate !== today) {
      await this.logToFile(this.settings.lastResetDate, this.settings.focusedTime);
      this.settings.focusedTime = 0;
      this.settings.lastResetDate = today;
    } else {
      await this.logToFile(today, this.settings.focusedTime);
    }
  }
  async logToFile(date, focusedTime) {
    const filePath = LOG_FILE_PATH;
    let fileContent = "";
    let fileExists = false;
    try {
      const file = this.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian.TFile) {
        fileContent = await this.app.vault.read(file);
        fileExists = true;
      }
    } catch (error) {
      fileExists = false;
    }
    const formattedTime = this.formatTime(focusedTime);
    const newData = `| ${date} | ${formattedTime} |
`;
    const tableHeader = "| Date       | Focused Time |\n| ---------- | ------------ |\n";
    if (fileExists) {
      const lines = fileContent.split("\n");
      let dateRowIndex = -1;
      for (let i = 0; i < lines.length; i++) {
        if (lines[i].startsWith(`| ${date} |`)) {
          dateRowIndex = i;
          break;
        }
      }
      if (dateRowIndex > -1) {
        lines[dateRowIndex] = newData.trim();
        fileContent = lines.join("\n");
      } else {
        if (fileContent.includes(tableHeader)) {
          fileContent = fileContent.replace(tableHeader, tableHeader + newData);
        } else {
          fileContent = tableHeader + newData + fileContent;
        }
      }
    } else {
      fileContent = tableHeader + newData;
    }
    try {
      const file = this.app.vault.getAbstractFileByPath(filePath);
      if (fileExists && file instanceof import_obsidian.TFile) {
        await this.app.vault.modify(file, fileContent);
      } else {
        await this.app.vault.create(filePath, fileContent);
      }
    } catch (error) {
      console.error("Error writing to log file:", error);
      new import_obsidian.Notice(`Failed to update daily log. ${error.message}`);
      return;
    }
  }
  // --- Settings ---
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    this.debounceUpdate = (0, import_obsidian.debounce)(this.handleEditorChange, 500, true);
    const today = (0, import_obsidian.moment)().format(DATE_FORMAT);
    if (this.settings.lastResetDate !== today) {
      await this.updateDailyLog();
      this.settings.focusedTime = 0;
      this.settings.lastResetDate = today;
      await this.saveSettings();
    }
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  addStatusBar(leaf) {
    const container = leaf.containerEl;
    if (container.querySelector(".pop-out-status-bar")) {
      return;
    }
    const statusBar = container.createDiv("pop-out-status-bar");
    const wordCountItem = statusBar.createDiv("status-bar-item");
    const lineCountItem = statusBar.createDiv("status-bar-item");
    const charCountItem = statusBar.createDiv("status-bar-item");
    const goalProgressItem = statusBar.createDiv("status-bar-item");
    const workingHourGoalProgressItem = statusBar.createDiv("status-bar-item");
    const timerItem = statusBar.createDiv("status-bar-item");
    statusBar.style.opacity = "0";
    statusBar.style.transition = "opacity 0.2s ease-in-out";
    statusBar.onmouseenter = () => {
      statusBar.style.opacity = "1";
    };
    statusBar.onmouseleave = () => {
      statusBar.style.opacity = "0";
    };
    this.updatePopOutStatusBar(leaf);
    const updateEvent = this.app.workspace.on("editor-change", (editor) => {
      if (editor === leaf.view.editor) {
        this.debouncePopOutUpdate(leaf);
      }
    });
    const cursorActivityEvent = this.app.workspace.on("editor-cursor-activity", (editor) => {
      if (editor === leaf.view.editor) {
        this.debouncePopOutUpdate(leaf);
      }
    });
    leaf.popOutStatusBar = {
      statusBar,
      wordCountItem,
      lineCountItem,
      charCountItem,
      goalProgressItem,
      workingHourGoalProgressItem,
      timerItem,
      updateEvent,
      // Store the event reference
      cursorActivityEvent
      // Store the event reference
    };
    const titlebar = container.querySelector(".view-header");
    if (titlebar) {
      titlebar.insertAdjacentElement("afterend", statusBar);
    } else {
      console.error("Pop-out window title bar not found!");
    }
    statusBar.classList.add("status-bar");
    wordCountItem.classList.add("status-bar-item");
    lineCountItem.classList.add("status-bar-item");
    charCountItem.classList.add("status-bar-item");
    goalProgressItem.classList.add("status-bar-item");
    workingHourGoalProgressItem.classList.add("status-bar-item");
    timerItem.classList.add("status-bar-item");
    this.registerEvent(updateEvent);
    this.registerEvent(cursorActivityEvent);
    leaf.view.on("destroy", () => {
      if (leaf.popOutStatusBar) {
        console.log("Cleaning up pop-out status bar");
        this.app.workspace.offref(leaf.popOutStatusBar.updateEvent);
        this.app.workspace.offref(leaf.popOutStatusBar.cursorActivityEvent);
        leaf.popOutStatusBar.statusBar.remove();
        leaf.popOutStatusBar = void 0;
      }
    });
  }
};
var FocusTimerSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Focus Timer Settings" });
    new import_obsidian.Setting(containerEl).setName("Character Count Goal").setDesc("Set your character count goal for pop-out windows.").addText(
      (text) => text.setPlaceholder("Enter your goal").setValue(this.plugin.settings.goal.toString()).onChange(async (value) => {
        this.plugin.settings.goal = parseInt(value, 10) || DEFAULT_SETTINGS.goal;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Show Timer in Pop-out Windows").setDesc("Show the focused timer in pop-out window status bars.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showTimer).onChange(async (value) => {
        this.plugin.settings.showTimer = value;
        await this.plugin.saveSettings();
        this.plugin.app.workspace.getLeavesOfType("markdown").forEach((leaf) => {
          if (this.plugin.isPopOutWindow(leaf)) {
            this.plugin.updatePopOutStatusBar(leaf);
          }
        });
      })
    );
    new import_obsidian.Setting(containerEl).setName("Show Main Status Bar Timer").setDesc("Show or hide the timer in the main status bar.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showMainTimer).onChange(async (value) => {
        this.plugin.settings.showMainTimer = value;
        this.plugin.updateStatusBar();
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Show Current Time").setDesc("Show or hide the current time in the main status bar.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showCurrentTime).onChange(async (value) => {
        this.plugin.settings.showCurrentTime = value;
        this.plugin.updateStatusBar();
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Working Hour Goal").setDesc("Set your daily working hour goal.").addText(
      (text) => text.setPlaceholder("Enter your goal (hours)").setValue(this.plugin.settings.workingHourGoal.toString()).onChange(async (value) => {
        const parsedValue = parseFloat(value);
        this.plugin.settings.workingHourGoal = isNaN(parsedValue) ? DEFAULT_SETTINGS.workingHourGoal : parsedValue;
        await this.plugin.saveSettings();
        this.plugin.updateStatusBar();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuICBQbHVnaW4sXHJcbiAgV29ya3NwYWNlTGVhZixcclxuICBNYXJrZG93blZpZXcsXHJcbiAgbW9tZW50LFxyXG4gIFRGaWxlLFxyXG4gIE5vdGljZSxcclxuICBFZGl0b3IsXHJcbiAgRGVib3VuY2VyLFxyXG4gIGRlYm91bmNlLFxyXG4gIEFwcCxcclxuICBQbHVnaW5TZXR0aW5nVGFiLFxyXG4gIFNldHRpbmcsXHJcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG4vLyAtLS0gQ29uc3RhbnRzIC0tLVxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTID0ge1xyXG4gIGdvYWw6IDEwMDAsXHJcbiAgc2hvd1RpbWVyOiBmYWxzZSxcclxuICBmb2N1c2VkVGltZTogMCxcclxuICBsYXN0UmVzZXREYXRlOiBcIlwiLFxyXG4gIHNob3dNYWluVGltZXI6IHRydWUsXHJcbiAgc2hvd0N1cnJlbnRUaW1lOiB0cnVlLFxyXG4gIHdvcmtpbmdIb3VyR29hbDogOCxcclxufTtcclxuY29uc3QgTE9HX0ZJTEVfUEFUSCA9IFwid29ya2luZyByZWNvcmQubWRcIjtcclxuY29uc3QgREFURV9GT1JNQVQgPSBcIllZWVktTU0tRERcIjtcclxuY29uc3QgVElNRV9GT1JNQVQgPSBcIkhIOm1tOnNzXCI7XHJcblxyXG4vLyAtLS0gVHlwZXMgLS0tXHJcbmludGVyZmFjZSBQbHVnaW5TZXR0aW5ncyB7XHJcbiAgZ29hbDogbnVtYmVyO1xyXG4gIHNob3dUaW1lcjogYm9vbGVhbjtcclxuICBmb2N1c2VkVGltZTogbnVtYmVyO1xyXG4gIGxhc3RSZXNldERhdGU6IHN0cmluZztcclxuICBzaG93TWFpblRpbWVyOiBib29sZWFuO1xyXG4gIHNob3dDdXJyZW50VGltZTogYm9vbGVhbjtcclxuICB3b3JraW5nSG91ckdvYWw6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXR1c0JhckVsZW1lbnRzIHtcclxuICBzdGF0dXNCYXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gIHdvcmRDb3VudEl0ZW06IEhUTUxEaXZFbGVtZW50O1xyXG4gIGxpbmVDb3VudEl0ZW06IEhUTUxEaXZFbGVtZW50O1xyXG4gIGNoYXJDb3VudEl0ZW06IEhUTUxEaXZFbGVtZW50O1xyXG4gIGdvYWxQcm9ncmVzc0l0ZW06IEhUTUxEaXZFbGVtZW50O1xyXG4gIHdvcmtpbmdIb3VyR29hbFByb2dyZXNzSXRlbTogSFRNTERpdkVsZW1lbnQ7XHJcbiAgdGltZXJJdGVtOiBIVE1MRGl2RWxlbWVudDtcclxuICB1cGRhdGVFdmVudDogRXZlbnRSZWY7IC8vIFVzZSB0aGUgY29ycmVjdCB0eXBlXHJcbiAgY3Vyc29yQWN0aXZpdHlFdmVudDogRXZlbnRSZWY7IC8vIFVzZSB0aGUgY29ycmVjdCB0eXBlXHJcbn1cclxuXHJcbmludGVyZmFjZSBNeUxlYWYgZXh0ZW5kcyBXb3Jrc3BhY2VMZWFmIHtcclxuICBwb3BPdXRTdGF0dXNCYXI/OiBTdGF0dXNCYXJFbGVtZW50cztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9jdXNUaW1lclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgLy8gLS0tIFByb3BlcnRpZXMgLS0tXHJcbiAgc2V0dGluZ3M6IFBsdWdpblNldHRpbmdzO1xyXG4gIGxhc3RGb2N1c1RpbWU6IG51bWJlciB8IG51bGw7XHJcbiAgYWN0aXZlTGVhZjogTXlMZWFmIHwgbnVsbDtcclxuICBzdGF0dXNCYXJJdGVtOiBIVE1MRWxlbWVudDtcclxuICBpc1dpbmRvd0ZvY3VzZWQ6IGJvb2xlYW47XHJcbiAgZGVib3VuY2VVcGRhdGU6IERlYm91bmNlcjxbZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlld10sIGFueT47XHJcbiAgZGVib3VuY2VQb3BPdXRVcGRhdGU6IERlYm91bmNlcjxbbGVhZjogTXlMZWFmXSwgYW55PjtcclxuXHJcblxyXG4gIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEZvY3VzIFRpbWVyIFBsdWdpblwiKTtcclxuXHJcbiAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG4gICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcclxuICAgICAgdGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcclxuICAgICAgdGhpcy5kZWJvdW5jZVBvcE91dFVwZGF0ZSA9IGRlYm91bmNlKHRoaXMudXBkYXRlUG9wT3V0U3RhdHVzQmFyLCAyNTAsIHRydWUpIGFzIERlYm91bmNlcjxbbGVhZjogTXlMZWFmXSwgYW55PjtcclxuXHJcbiAgICAgIHRoaXMucmVnaXN0ZXJJbnRlcnZhbChcclxuICAgICAgICAgIHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dGb2N1c2VkICYmIHRoaXMubGFzdEZvY3VzVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZvY3VzZWRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdHVzQmFyKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgMTAwMClcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcclxuICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCB0aGlzLmhhbmRsZUxlYWZDaGFuZ2UuYmluZCh0aGlzKSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcclxuICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImVkaXRvci1jaGFuZ2VcIiwgdGhpcy5kZWJvdW5jZVVwZGF0ZS5iaW5kKHRoaXMpKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hY3RpdmVMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KT8ubGVhZiBhcyBNeUxlYWY7XHJcbiAgICAgICAgICBpZiAodGhpcy5hY3RpdmVMZWFmKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGFydEZvY3VzVGltZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuaGFuZGxlTGVhZkNoYW5nZSh0aGlzLmFjdGl2ZUxlYWYpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5oYW5kbGVXaW5kb3dGb2N1cyk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmhhbmRsZVdpbmRvd0JsdXIpO1xyXG4gICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IEZvY3VzVGltZXJTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb251bmxvYWQoKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGFpbHlMb2coKTtcclxuICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5oYW5kbGVXaW5kb3dGb2N1cyk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmhhbmRsZVdpbmRvd0JsdXIpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIEV2ZW50IEhhbmRsZXJzIC0tLVxyXG5cclxuICBoYW5kbGVXaW5kb3dGb2N1cyA9ICgpID0+IHtcclxuICAgICAgdGhpcy5pc1dpbmRvd0ZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIldpbmRvdyBmb2N1c2VkXCIpO1xyXG4gICAgICBpZiAodGhpcy5hY3RpdmVMZWFmICYmIHRoaXMuYWN0aXZlTGVhZi52aWV3IGluc3RhbmNlb2YgTWFya2Rvd25WaWV3KSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0Rm9jdXNUaW1lcigpO1xyXG4gICAgICB9XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlV2luZG93Qmx1ciA9ICgpID0+IHtcclxuICAgICAgdGhpcy5pc1dpbmRvd0ZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coXCJXaW5kb3cgYmx1cnJlZFwiKTtcclxuICAgICAgdGhpcy5zdG9wRm9jdXNUaW1lcigpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUxlYWZDaGFuZ2UgPSBhc3luYyAobGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwpID0+IHtcclxuICAgICAgaWYgKHRoaXMuYWN0aXZlTGVhZiAmJiB0aGlzLmFjdGl2ZUxlYWYudmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldykge1xyXG4gICAgICAgICAgdGhpcy5zdG9wRm9jdXNUaW1lcigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobGVhZiAmJiBsZWFmLnZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmlzV2luZG93Rm9jdXNlZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhcnRGb2N1c1RpbWVyKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuYWN0aXZlTGVhZiA9IGxlYWYgYXMgTXlMZWFmO1xyXG5cclxuICAgICAgaWYgKGxlYWYgJiYgdGhpcy5pc1BvcE91dFdpbmRvdyhsZWFmKSkge1xyXG4gICAgICAgICAgdGhpcy5hZGRTdGF0dXNCYXIobGVhZiBhcyBNeUxlYWYpO1xyXG4gICAgICB9XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRWRpdG9yQ2hhbmdlID0gYXN5bmMgKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcclxuICAgICAgaWYgKHRoaXMuaXNXaW5kb3dGb2N1c2VkICYmIHRoaXMuaXNQb3BPdXRXaW5kb3codmlldy5sZWFmKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGFydEZvY3VzVGltZXIoKTtcclxuICAgICAgfVxyXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZURhaWx5TG9nKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gLS0tIFRpbWVyIEZ1bmN0aW9ucyAtLS1cclxuXHJcbiAgc3RhcnRGb2N1c1RpbWVyKCkge1xyXG4gICAgICBpZiAoIXRoaXMubGFzdEZvY3VzVGltZSkge1xyXG4gICAgICAgICAgdGhpcy5sYXN0Rm9jdXNUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm9jdXMgdGltZXIgU1RBUlRFRFwiKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgc3RvcEZvY3VzVGltZXIoKSB7XHJcbiAgICAgIGlmICh0aGlzLmxhc3RGb2N1c1RpbWUpIHtcclxuICAgICAgICAgIHRoaXMudXBkYXRlRm9jdXNlZFRpbWUoKTtcclxuICAgICAgICAgIHRoaXMubGFzdEZvY3VzVGltZSA9IG51bGw7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvY3VzIHRpbWVyIFNUT1BQRUQuIFRvdGFsOlwiLCB0aGlzLnNldHRpbmdzLmZvY3VzZWRUaW1lKTtcclxuICAgICAgICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZUZvY3VzZWRUaW1lKCkge1xyXG4gICAgICBpZiAodGhpcy5sYXN0Rm9jdXNUaW1lKSB7XHJcbiAgICAgICAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdEZvY3VzVGltZTtcclxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZm9jdXNlZFRpbWUgKz0gZWxhcHNlZDtcclxuICAgICAgICAgIHRoaXMubGFzdEZvY3VzVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIC8vIC0tLSBTdGF0dXMgQmFyIFVwZGF0ZXMgLS0tXHJcblxyXG4gIHVwZGF0ZVN0YXR1c0JhcigpIHtcclxuICAgICAgbGV0IHN0YXR1c0JhclRleHQgPSBcIlwiO1xyXG5cclxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd01haW5UaW1lcikge1xyXG4gICAgICAgICAgY29uc3QgZm9ybWF0dGVkVGltZSA9IHRoaXMuZm9ybWF0VGltZSh0aGlzLnNldHRpbmdzLmZvY3VzZWRUaW1lKTtcclxuICAgICAgICAgIHN0YXR1c0JhclRleHQgKz0gYEZvY3VzZWQ6ICR7Zm9ybWF0dGVkVGltZX0gYDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgd29ya2luZ0hvdXJHb2FsUHJvZ3Jlc3MgPSAoXHJcbiAgICAgICAgICAodGhpcy5zZXR0aW5ncy5mb2N1c2VkVGltZSAvICh0aGlzLnNldHRpbmdzLndvcmtpbmdIb3VyR29hbCAqIDYwICogNjAgKiAxMDAwKSkgKlxyXG4gICAgICAgICAgMTAwXHJcbiAgICAgICkudG9GaXhlZCgyKTtcclxuICAgICAgc3RhdHVzQmFyVGV4dCArPSBgfCBXSCBHb2FsOiAke3dvcmtpbmdIb3VyR29hbFByb2dyZXNzfSUgYDtcclxuXHJcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG4gICAgICBpZiAoYWN0aXZlVmlldykge1xyXG4gICAgICAgICAgY29uc3QgY2hhck51bSA9IGFjdGl2ZVZpZXcuZWRpdG9yLmdldFZhbHVlKCkubGVuZ3RoO1xyXG4gICAgICAgICAgY29uc3QgY2hhckdvYWxQcm9ncmVzcyA9XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5nb2FsID4gMCA/ICgoY2hhck51bSAvIHRoaXMuc2V0dGluZ3MuZ29hbCkgKiAxMDApLnRvRml4ZWQoMikgOiBcIjAuMDBcIjtcclxuICAgICAgICAgIHN0YXR1c0JhclRleHQgKz0gYHwgQ2hhciBHb2FsOiAke2NoYXJHb2FsUHJvZ3Jlc3N9JWA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdGF0dXNCYXJUZXh0ICs9IGB8IENoYXIgR29hbDogTi9BYDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd0N1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IG1vbWVudCgpLmZvcm1hdChUSU1FX0ZPUk1BVCk7XHJcbiAgICAgICAgICBzdGF0dXNCYXJUZXh0ICs9IGAgfCAke2N1cnJlbnRUaW1lfWA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5zZXRUZXh0KHN0YXR1c0JhclRleHQudHJpbSgpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvcE91dFN0YXR1c0JhcihsZWFmOiBNeUxlYWYpIHtcclxuICAgICAgY29uc3QgZWRpdG9yID0gbGVhZi52aWV3LmVkaXRvcjtcclxuICAgICAgaWYgKCFlZGl0b3IpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xyXG4gICAgICBjb25zdCB3b3JkcyA9IGNvbnRlbnQuc3BsaXQoL1xccysvKS5maWx0ZXIoKHdvcmQpID0+IHdvcmQubGVuZ3RoID4gMCkubGVuZ3RoO1xyXG4gICAgICBjb25zdCBsaW5lTnVtID0gZWRpdG9yLmdldEN1cnNvcigpLmxpbmUgKyAxO1xyXG4gICAgICBjb25zdCBjaE51bSA9IGNvbnRlbnQubGVuZ3RoO1xyXG4gICAgICBjb25zdCBjaGFyR29hbFByb2dyZXNzID1cclxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZ29hbCA+IDAgPyAoKGNoTnVtIC8gdGhpcy5zZXR0aW5ncy5nb2FsKSAqIDEwMCkudG9GaXhlZCgyKSA6IFwiMC4wMFwiO1xyXG4gICAgICBjb25zdCB3b3JraW5nSG91ckdvYWxQcm9ncmVzcyA9IChcclxuICAgICAgICAgICh0aGlzLnNldHRpbmdzLmZvY3VzZWRUaW1lIC8gKHRoaXMuc2V0dGluZ3Mud29ya2luZ0hvdXJHb2FsICogNjAgKiA2MCAqIDEwMDApKSAqXHJcbiAgICAgICAgICAxMDBcclxuICAgICAgKS50b0ZpeGVkKDIpO1xyXG4gICAgICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gdGhpcy5mb3JtYXRUaW1lKHRoaXMuc2V0dGluZ3MuZm9jdXNlZFRpbWUpO1xyXG5cclxuICAgICAgaWYgKGxlYWYucG9wT3V0U3RhdHVzQmFyKSB7XHJcbiAgICAgICAgICBsZWFmLnBvcE91dFN0YXR1c0Jhci53b3JkQ291bnRJdGVtLnRleHRDb250ZW50ID0gYCR7d29yZHN9IHdvcmRzYDtcclxuICAgICAgICAgIGxlYWYucG9wT3V0U3RhdHVzQmFyLmxpbmVDb3VudEl0ZW0udGV4dENvbnRlbnQgPSBgTG4gJHtsaW5lTnVtfSwgQ29sICR7Y2hOdW19YDtcclxuICAgICAgICAgIGxlYWYucG9wT3V0U3RhdHVzQmFyLmNoYXJDb3VudEl0ZW0udGV4dENvbnRlbnQgPSBgJHtjaE51bX0gY2hhcnNgO1xyXG4gICAgICAgICAgbGVhZi5wb3BPdXRTdGF0dXNCYXIuZ29hbFByb2dyZXNzSXRlbS50ZXh0Q29udGVudCA9IGBDaGFyIEdvYWw6ICR7Y2hhckdvYWxQcm9ncmVzc30lYDtcclxuICAgICAgICAgIGxlYWYucG9wT3V0U3RhdHVzQmFyLndvcmtpbmdIb3VyR29hbFByb2dyZXNzSXRlbS50ZXh0Q29udGVudCA9IGBXSCBHb2FsOiAke3dvcmtpbmdIb3VyR29hbFByb2dyZXNzfSVgO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd1RpbWVyKSB7XHJcbiAgICAgICAgICAgICAgbGVhZi5wb3BPdXRTdGF0dXNCYXIudGltZXJJdGVtLnRleHRDb250ZW50ID0gYEZvY3VzZWQ6ICR7Zm9ybWF0dGVkVGltZX1gO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBsZWFmLnBvcE91dFN0YXR1c0Jhci50aW1lckl0ZW0udGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gSGVscGVyIEZ1bmN0aW9ucyAtLS1cclxuXHJcbiAgZm9ybWF0VGltZShtaWxsaXNlY29uZHM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgIGNvbnN0IHRvdGFsU2Vjb25kcyA9IE1hdGguZmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XHJcbiAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyAzNjAwKTtcclxuICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHRvdGFsU2Vjb25kcyAlIDM2MDApIC8gNjApO1xyXG4gICAgICBjb25zdCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XHJcbiAgICAgIHJldHVybiBgJHtTdHJpbmcoaG91cnMpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtTdHJpbmcobWludXRlcykucGFkU3RhcnQoMiwgXCIwXCIpfToke1N0cmluZyhcclxuICAgICAgICAgIHNlY29uZHNcclxuICAgICAgKS5wYWRTdGFydCgyLCBcIjBcIil9YDtcclxuICB9XHJcblxyXG4gIGlzUG9wT3V0V2luZG93KGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgIGlmICghbGVhZiB8fCAhbGVhZi52aWV3Py5nZXRWaWV3VHlwZSgpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxlYWYudmlldy5jb250YWluZXJFbC5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudDtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBEYWlseSBMb2dnaW5nIC0tLVxyXG5cclxuICBhc3luYyB1cGRhdGVEYWlseUxvZygpIHtcclxuICAgICAgY29uc3QgdG9kYXkgPSBtb21lbnQoKS5mb3JtYXQoREFURV9GT1JNQVQpO1xyXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5sYXN0UmVzZXREYXRlICE9PSB0b2RheSkge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5sb2dUb0ZpbGUodGhpcy5zZXR0aW5ncy5sYXN0UmVzZXREYXRlLCB0aGlzLnNldHRpbmdzLmZvY3VzZWRUaW1lKTtcclxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZm9jdXNlZFRpbWUgPSAwO1xyXG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5sYXN0UmVzZXREYXRlID0gdG9kYXk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLmxvZ1RvRmlsZSh0b2RheSwgdGhpcy5zZXR0aW5ncy5mb2N1c2VkVGltZSk7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvZ1RvRmlsZShkYXRlOiBzdHJpbmcsIGZvY3VzZWRUaW1lOiBudW1iZXIpIHtcclxuICAgICAgY29uc3QgZmlsZVBhdGggPSBMT0dfRklMRV9QQVRIO1xyXG4gICAgICBsZXQgZmlsZUNvbnRlbnQgPSBcIlwiO1xyXG4gICAgICBsZXQgZmlsZUV4aXN0cyA9IGZhbHNlO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xyXG4gICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xyXG4gICAgICAgICAgICAgIGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGZpbGVFeGlzdHMgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZm9ybWF0dGVkVGltZSA9IHRoaXMuZm9ybWF0VGltZShmb2N1c2VkVGltZSk7XHJcbiAgICAgIGNvbnN0IG5ld0RhdGEgPSBgfCAke2RhdGV9IHwgJHtmb3JtYXR0ZWRUaW1lfSB8XFxuYDtcclxuICAgICAgY29uc3QgdGFibGVIZWFkZXIgPSBcInwgRGF0ZSAgICAgICB8IEZvY3VzZWQgVGltZSB8XFxufCAtLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tIHxcXG5cIjtcclxuXHJcbiAgICAgIGlmIChmaWxlRXhpc3RzKSB7XHJcbiAgICAgICAgICBjb25zdCBsaW5lcyA9IGZpbGVDb250ZW50LnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgbGV0IGRhdGVSb3dJbmRleCA9IC0xO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmIChsaW5lc1tpXS5zdGFydHNXaXRoKGB8ICR7ZGF0ZX0gfGApKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGVSb3dJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoZGF0ZVJvd0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICBsaW5lc1tkYXRlUm93SW5kZXhdID0gbmV3RGF0YS50cmltKCk7XHJcbiAgICAgICAgICAgICAgZmlsZUNvbnRlbnQgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAoZmlsZUNvbnRlbnQuaW5jbHVkZXModGFibGVIZWFkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZpbGVDb250ZW50ID0gZmlsZUNvbnRlbnQucmVwbGFjZSh0YWJsZUhlYWRlciwgdGFibGVIZWFkZXIgKyBuZXdEYXRhKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBmaWxlQ29udGVudCA9IHRhYmxlSGVhZGVyICsgbmV3RGF0YSArIGZpbGVDb250ZW50O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZpbGVDb250ZW50ID0gdGFibGVIZWFkZXIgKyBuZXdEYXRhO1xyXG4gICAgICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcclxuICAgICAgICAgIGlmIChmaWxlRXhpc3RzICYmIGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBmaWxlQ29udGVudCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgZmlsZUNvbnRlbnQpO1xyXG4gICAgICAgICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igd3JpdGluZyB0byBsb2cgZmlsZTpcIiwgZXJyb3IpO1xyXG4gICAgbmV3IE5vdGljZShgRmFpbGVkIHRvIHVwZGF0ZSBkYWlseSBsb2cuICR7ZXJyb3IubWVzc2FnZX1gKTsgLy8gTW9yZSBzcGVjaWZpYyBlcnJvclxyXG4gICAgcmV0dXJuOyAvLyBQcmV2ZW50IGZ1cnRoZXIgZXhlY3V0aW9uIG9uIGVycm9yXHJcbiAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tIFNldHRpbmdzIC0tLVxyXG5cclxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG4gICAgICB0aGlzLmRlYm91bmNlVXBkYXRlID0gZGVib3VuY2UodGhpcy5oYW5kbGVFZGl0b3JDaGFuZ2UsIDUwMCwgdHJ1ZSkgYXMgRGVib3VuY2VyPFtlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3XSwgYW55PjtcclxuXHJcbiAgICAgIGNvbnN0IHRvZGF5ID0gbW9tZW50KCkuZm9ybWF0KERBVEVfRk9STUFUKTtcclxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubGFzdFJlc2V0RGF0ZSAhPT0gdG9kYXkpIHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGFpbHlMb2coKTtcclxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZm9jdXNlZFRpbWUgPSAwO1xyXG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5sYXN0UmVzZXREYXRlID0gdG9kYXk7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgfVxyXG5cclxuICBhZGRTdGF0dXNCYXIobGVhZjogTXlMZWFmKSB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gbGVhZi5jb250YWluZXJFbDtcclxuXHJcbiAgaWYgKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnBvcC1vdXQtc3RhdHVzLWJhclwiKSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3RhdHVzQmFyID0gY29udGFpbmVyLmNyZWF0ZURpdihcInBvcC1vdXQtc3RhdHVzLWJhclwiKTtcclxuICBjb25zdCB3b3JkQ291bnRJdGVtID0gc3RhdHVzQmFyLmNyZWF0ZURpdihcInN0YXR1cy1iYXItaXRlbVwiKTtcclxuICBjb25zdCBsaW5lQ291bnRJdGVtID0gc3RhdHVzQmFyLmNyZWF0ZURpdihcInN0YXR1cy1iYXItaXRlbVwiKTtcclxuICBjb25zdCBjaGFyQ291bnRJdGVtID0gc3RhdHVzQmFyLmNyZWF0ZURpdihcInN0YXR1cy1iYXItaXRlbVwiKTtcclxuICBjb25zdCBnb2FsUHJvZ3Jlc3NJdGVtID0gc3RhdHVzQmFyLmNyZWF0ZURpdihcInN0YXR1cy1iYXItaXRlbVwiKTtcclxuICBjb25zdCB3b3JraW5nSG91ckdvYWxQcm9ncmVzc0l0ZW0gPSBzdGF0dXNCYXIuY3JlYXRlRGl2KFwic3RhdHVzLWJhci1pdGVtXCIpO1xyXG4gIGNvbnN0IHRpbWVySXRlbSA9IHN0YXR1c0Jhci5jcmVhdGVEaXYoXCJzdGF0dXMtYmFyLWl0ZW1cIik7XHJcblxyXG4gIHN0YXR1c0Jhci5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgc3RhdHVzQmFyLnN0eWxlLnRyYW5zaXRpb24gPSBcIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dFwiO1xyXG5cclxuICBzdGF0dXNCYXIub25tb3VzZWVudGVyID0gKCkgPT4ge1xyXG4gICAgc3RhdHVzQmFyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICB9O1xyXG4gIHN0YXR1c0Jhci5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7XHJcbiAgICBzdGF0dXNCYXIuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlUG9wT3V0U3RhdHVzQmFyKGxlYWYpO1xyXG5cclxuICBjb25zdCB1cGRhdGVFdmVudCA9IHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImVkaXRvci1jaGFuZ2VcIiwgKGVkaXRvcikgPT4ge1xyXG4gICAgaWYgKGVkaXRvciA9PT0gbGVhZi52aWV3LmVkaXRvcikge1xyXG4gICAgICB0aGlzLmRlYm91bmNlUG9wT3V0VXBkYXRlKGxlYWYpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjdXJzb3JBY3Rpdml0eUV2ZW50ID0gdGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZWRpdG9yLWN1cnNvci1hY3Rpdml0eVwiLCAoZWRpdG9yKSA9PiB7XHJcbiAgICBpZiAoZWRpdG9yID09PSBsZWFmLnZpZXcuZWRpdG9yKSB7XHJcbiAgICAgIHRoaXMuZGVib3VuY2VQb3BPdXRVcGRhdGUobGVhZik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGxlYWYucG9wT3V0U3RhdHVzQmFyID0ge1xyXG4gICAgc3RhdHVzQmFyLFxyXG4gICAgd29yZENvdW50SXRlbSxcclxuICAgIGxpbmVDb3VudEl0ZW0sXHJcbiAgICBjaGFyQ291bnRJdGVtLFxyXG4gICAgZ29hbFByb2dyZXNzSXRlbSxcclxuICAgIHdvcmtpbmdIb3VyR29hbFByb2dyZXNzSXRlbSxcclxuICAgIHRpbWVySXRlbSxcclxuICAgIHVwZGF0ZUV2ZW50LCAvLyBTdG9yZSB0aGUgZXZlbnQgcmVmZXJlbmNlXHJcbiAgICBjdXJzb3JBY3Rpdml0eUV2ZW50LCAvLyBTdG9yZSB0aGUgZXZlbnQgcmVmZXJlbmNlXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdGl0bGViYXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcIi52aWV3LWhlYWRlclwiKTtcclxuICBpZiAodGl0bGViYXIpIHtcclxuICAgIHRpdGxlYmFyLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHN0YXR1c0Jhcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJQb3Atb3V0IHdpbmRvdyB0aXRsZSBiYXIgbm90IGZvdW5kIVwiKTtcclxuICB9XHJcblxyXG4gIHN0YXR1c0Jhci5jbGFzc0xpc3QuYWRkKFwic3RhdHVzLWJhclwiKTtcclxuICB3b3JkQ291bnRJdGVtLmNsYXNzTGlzdC5hZGQoXCJzdGF0dXMtYmFyLWl0ZW1cIik7XHJcbiAgbGluZUNvdW50SXRlbS5jbGFzc0xpc3QuYWRkKFwic3RhdHVzLWJhci1pdGVtXCIpO1xyXG4gIGNoYXJDb3VudEl0ZW0uY2xhc3NMaXN0LmFkZChcInN0YXR1cy1iYXItaXRlbVwiKTtcclxuICBnb2FsUHJvZ3Jlc3NJdGVtLmNsYXNzTGlzdC5hZGQoXCJzdGF0dXMtYmFyLWl0ZW1cIik7XHJcbiAgd29ya2luZ0hvdXJHb2FsUHJvZ3Jlc3NJdGVtLmNsYXNzTGlzdC5hZGQoXCJzdGF0dXMtYmFyLWl0ZW1cIik7XHJcbiAgdGltZXJJdGVtLmNsYXNzTGlzdC5hZGQoXCJzdGF0dXMtYmFyLWl0ZW1cIik7XHJcblxyXG4gIHRoaXMucmVnaXN0ZXJFdmVudCh1cGRhdGVFdmVudCk7IC8vIElNUE9SVEFOVDogUmVnaXN0ZXIgZm9yIGxhdGVyIHVucmVnaXN0cmF0aW9uXHJcbiAgdGhpcy5yZWdpc3RlckV2ZW50KGN1cnNvckFjdGl2aXR5RXZlbnQpOyAvLyBJTVBPUlRBTlQ6IFJlZ2lzdGVyXHJcblxyXG4gIGxlYWYudmlldy5vbihcImRlc3Ryb3lcIiwgKCkgPT4ge1xyXG4gICAgaWYgKGxlYWYucG9wT3V0U3RhdHVzQmFyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2xlYW5pbmcgdXAgcG9wLW91dCBzdGF0dXMgYmFyXCIpO1xyXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub2ZmcmVmKGxlYWYucG9wT3V0U3RhdHVzQmFyLnVwZGF0ZUV2ZW50KTtcclxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9mZnJlZihsZWFmLnBvcE91dFN0YXR1c0Jhci5jdXJzb3JBY3Rpdml0eUV2ZW50KTtcclxuICAgICAgbGVhZi5wb3BPdXRTdGF0dXNCYXIuc3RhdHVzQmFyLnJlbW92ZSgpOyAvLyBSZW1vdmUgdGhlIHN0YXR1cyBiYXIgZWxlbWVudFxyXG4gICAgICBsZWFmLnBvcE91dFN0YXR1c0JhciA9IHVuZGVmaW5lZDsgLy8gQ2xlYXIgdGhlIHJlZmVyZW5jZVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbn1cclxuXHJcbmNsYXNzIEZvY3VzVGltZXJTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHBsdWdpbjogRm9jdXNUaW1lclBsdWdpbjtcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRm9jdXNUaW1lclBsdWdpbikge1xyXG4gICAgICBzdXBlcihhcHAsIHBsdWdpbik7XHJcbiAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gIH1cclxuXHJcbiAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcbiAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkZvY3VzIFRpbWVyIFNldHRpbmdzXCIgfSk7XHJcblxyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgIC5zZXROYW1lKFwiQ2hhcmFjdGVyIENvdW50IEdvYWxcIilcclxuICAgICAgICAgIC5zZXREZXNjKFwiU2V0IHlvdXIgY2hhcmFjdGVyIGNvdW50IGdvYWwgZm9yIHBvcC1vdXQgd2luZG93cy5cIilcclxuICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG4gICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBnb2FsXCIpXHJcbiAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nb2FsLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmdvYWwgPSBwYXJzZUludCh2YWx1ZSwgMTApIHx8IERFRkFVTFRfU0VUVElOR1MuZ29hbDtcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgLnNldE5hbWUoXCJTaG93IFRpbWVyIGluIFBvcC1vdXQgV2luZG93c1wiKVxyXG4gICAgICAgICAgLnNldERlc2MoXCJTaG93IHRoZSBmb2N1c2VkIHRpbWVyIGluIHBvcC1vdXQgd2luZG93IHN0YXR1cyBiYXJzLlwiKVxyXG4gICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93VGltZXIpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93VGltZXIgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFwibWFya2Rvd25cIikuZm9yRWFjaCgobGVhZikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLmlzUG9wT3V0V2luZG93KGxlYWYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udXBkYXRlUG9wT3V0U3RhdHVzQmFyKGxlYWYgYXMgTXlMZWFmKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgIC5zZXROYW1lKFwiU2hvdyBNYWluIFN0YXR1cyBCYXIgVGltZXJcIilcclxuICAgICAgICAgIC5zZXREZXNjKFwiU2hvdyBvciBoaWRlIHRoZSB0aW1lciBpbiB0aGUgbWFpbiBzdGF0dXMgYmFyLlwiKVxyXG4gICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93TWFpblRpbWVyKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd01haW5UaW1lciA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi51cGRhdGVTdGF0dXNCYXIoKTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgIC5zZXROYW1lKFwiU2hvdyBDdXJyZW50IFRpbWVcIilcclxuICAgICAgICAgIC5zZXREZXNjKFwiU2hvdyBvciBoaWRlIHRoZSBjdXJyZW50IHRpbWUgaW4gdGhlIG1haW4gc3RhdHVzIGJhci5cIilcclxuICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0N1cnJlbnRUaW1lKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0N1cnJlbnRUaW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnVwZGF0ZVN0YXR1c0JhcigpO1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgLnNldE5hbWUoXCJXb3JraW5nIEhvdXIgR29hbFwiKVxyXG4gICAgICAgICAgLnNldERlc2MoXCJTZXQgeW91ciBkYWlseSB3b3JraW5nIGhvdXIgZ29hbC5cIilcclxuICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG4gICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBnb2FsIChob3VycylcIilcclxuICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmtpbmdIb3VyR29hbC50b1N0cmluZygpKVxyXG4gICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29ya2luZ0hvdXJHb2FsID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc05hTihwYXJzZWRWYWx1ZSkgPyBERUZBVUxUX1NFVFRJTkdTLndvcmtpbmdIb3VyR29hbCA6IHBhcnNlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi51cGRhdGVTdGF0dXNCYXIoKTtcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcbiAgfVxyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQWFPO0FBR1AsSUFBTSxtQkFBbUI7QUFBQSxFQUN2QixNQUFNO0FBQUEsRUFDTixXQUFXO0FBQUEsRUFDWCxhQUFhO0FBQUEsRUFDYixlQUFlO0FBQUEsRUFDZixlQUFlO0FBQUEsRUFDZixpQkFBaUI7QUFBQSxFQUNqQixp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
